{"componentChunkName":"component---src-pages-sheet-mdx-slug-tsx","path":"/sheet/kafka/","result":{"data":{"mdx":{"frontmatter":{"title":"Kafka","date":"August 23, 2022"},"body":"const _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nconst _frontmatter = {\n  \"title\": \"Kafka\",\n  \"date\": \"2022-08-23\",\n  \"fullPath\": \"/sheet/kafka\"\n};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  let {\n    components\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"table-of-contents\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#table-of-contents\",\n    \"aria-label\": \"table of contents permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Table of Contents`), mdx(\"h2\", {\n    \"id\": \"basics\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#basics\",\n    \"aria-label\": \"basics permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Basics`), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://kafaka.apache.org/intro\"\n  }, `Apache Kafka`), ` is a `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `distributed streaming platform`)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `centralized system for publishing and subscribing to data`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `allows for reading and re-reading data`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `\"native\" implementation written in Scala `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(and by extension, Java)`))), mdx(\"h3\", {\n    \"id\": \"common-uses\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#common-uses\",\n    \"aria-label\": \"common uses permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Common Uses`), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `log aggregation`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `can perform ML tasks `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(with help from third-parties)`)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `durable storage allows it to serve as reliable data lake`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `storing events for event-source system`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `external distributed commit log`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `stream-processing framework`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, `newest capability`))))), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"architecture-overview\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#architecture-overview\",\n    \"aria-label\": \"architecture overview permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Architecture Overview`), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, `Broker`)), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `\"the heart of Kafka\"`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `where data resides`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `several servers with Brokers coordinating together as single unit is a `, mdx(\"strong\", {\n    parentName: \"li\"\n  }, `cluster`))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, `Producer`)), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `produced data sent as `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `messages`), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `byte arrays with no specific format`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `can optionally be paired together with keys`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `typeless by default`))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `can attach `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `schema`), ` to messages`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `can be verified against and typecast`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `schema can be backed by by JSON, XML, Avro, etc.`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `Avro tends to be the standard`))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `Avro`, mdx(\"div\", {\n    parentName: \"li\",\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, `- serialization framework originally built for Hadoop\n- provides decent level of compression\n- is decouplable from data\n- _meaning code is (usually) not required to be regenerated upon schema change_\n- provides support for backwards and forwards compatibility`))), mdx(\"strong\", {\n    parentName: \"li\"\n  }, `Topic`)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `specific name to which a message is assigned`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `scalability achieved through splitting topic into `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `partitions`), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `each partition is basically a separate and single log`))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `Kafka can scale up to maximum equal to topic's partition count`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `max cap necessary to guarantee that messages will be replayed in same order in which they were received`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `to guarantee `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `that`), `, only one `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `reader`), ` within single consuming group `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(signified by ID)`), ` can be attached to any given partition`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `since there can only `, mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, `ever`)), ` be one reader per partition at a time, total partition count becomes maximum parallelism capability`))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `fault tolerance:`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, `partitions`), ` handle parallelism factor`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, `replication factor`), ` handles redundancy`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `cluster's metadata manager `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `ZooKeeper`), ` handles leader elections if leader in cluster goes down`)))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, `Data`)), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `data backing is basically commit log `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(an append-only data structure)`), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `guarantees ordering`))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `each message appended to log is given an `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `offset`), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `offset allows consumers of data to be able to replay back from any given point of the log`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `also is what allows different reader applications to consume same data at their own pace`)))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, `Consumers`)), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `consume messages from a topic`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `typically scaled out via grouping of consumer apps, known as `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `consumer groups`)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `each consumer`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `is assigned subset of topic(s) via its partitions`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `moves at own pace, keeping track of last processed message's offset separately`)))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, `Stream`)), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `generally, movement of data from end to end: `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `producer > broker > consumer`))), mdx(\"h3\", {\n    \"id\": \"brokers\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#brokers\",\n    \"aria-label\": \"brokers permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Brokers`), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `hub/heart for all data, managing:`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `how it's stored`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `in which partition it's stored`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `other metadata-based tasks `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(including dealing with offsets)`)))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `usually exists as group of Brokers as a cluster `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(for scalability)`)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `number of Brokers should be based on:`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `storage needs and growth`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `replication requirements `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(since that effectively serves as a multiplier)`), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `for example:`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `expectation = store 100TB on 2 servers of 50TB`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `actual = have replication factor of 2 means that you need 4 servers handling 200TB of data`))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `amount of network traffic expected to be hitting Brokers`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, `namely, how many expected Consumers and how often are you expecting them to be hitting the servers?`)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `since replica acts as Consumer, that shold also be considered in this estimate`)))))), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"zookeeper\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#zookeeper\",\n    \"aria-label\": \"zookeeper permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Zookeeper`), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `high-level coordinator/controller of the cluster, responsible for assigning out topic partitions and monitoring for failures`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `typically run as a cluster, known as an `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `ensemble`), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `should be an odd number of servers`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `3 is ok`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `5 is optimal`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `more than 7 likely results in degradation`))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `can opt to run multiple Kafka clusters on same ensemble, using `, mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, `chroot`), ` to delineate each cluster:`, mdx(\"div\", {\n    parentName: \"li\",\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"sh\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-sh\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `# KafkaCluster1 is \\`chroot\\`\nzookeeper.connect = host:port/KafkaCluster1`)))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, `not`), ` suggested to share ensemble with other non-Kafka apps`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `sensitive to latency and timeouts`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `connection hiccups can make brokers act unpredictably`))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `role in Kafka\n1) when Broker starts up, registers itself in ZooKeeper by creating ephemeral node using its unique ID\n2) controller is simply the first Broker to create ephemeral node named controller\n3) subsequent Brokers will attempt to do the same, but will instead create a watch on current controller node`)), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"producers\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#producers\",\n    \"aria-label\": \"producers permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Producers`), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `responsible for creatings messages and sending them to Broker`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `when possible, will wait to send messages in batches by Topic and Parition to reduce impact of network`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, `NOTE: when no partition is assigned or calculated, it will be assigned using round-robin algorithm`)))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `managing speed of data production`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `can increase throughput by increasing number of threads used by Producer`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `if more is needed, can spin up more Producers`)))), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"consumers\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#consumers\",\n    \"aria-label\": \"consumers permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Consumers`), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `responsible for flowing messages out from `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(i.e. reading Topic data out of)`), ` Broker`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `can track one or more Kafka Topics`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `must push offsets of data they've already processed back to Kafka cluster`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, `in that sense, a Consumer is also a Producer`)))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `more than one is usually needed`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, `Consumer groups`), ` consist of Consumers working together in coordinated system`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `each Consumer shares Consumer group ID`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `coordinate which Consumers get which Paritions of data`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `since Partition cannot be split, max Consumers in group `, mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, `should not`)), ` equal more than total available Partitions`))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `when Consumer has group ID, sends join group message to coordinator`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, `first consumer to join becomes group's leader`)))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `with leader set, coordinator sends Consumers it already knows or becomes aware of down to leader`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `leader then decides each Consumer's Partition assignments`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `once divvied up, sends assignments back to coordinator so that it can send each Consumer its assigned Partitions`), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `this division of labor is rebalanced upon Consumers being added or removed from group`, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"em\"\n  }, `NOTE`), `: message flows halted during this time`)))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, `group coordinator determines Consumer availability via Consumers sending periodic pings `, mdx(\"em\", {\n    parentName: \"li\"\n  }, `(known as heartbeats)`), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, `if coordinator notices too many missed successive heartbeats, marks that Consumer as unavailable`))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, `NOTE`), `: most of the above is handled for you`)), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"configuration\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#configuration\",\n    \"aria-label\": \"configuration permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Configuration`), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, `TODO`), ` 🙃`), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"customization--production-readiness\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#customization--production-readiness\",\n    \"aria-label\": \"customization  production readiness permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Customization & Production Readiness`), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, `TODO`), ` 🙃`), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"devops-monitoring\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#devops-monitoring\",\n    \"aria-label\": \"devops monitoring permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `DevOps: Monitoring`), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, `TODO`), ` 🙃`), mdx(\"hr\", null), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#\",\n    \"aria-label\": \" permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, `TODO`), ` 🙃`), mdx(\"hr\", null));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"fc5f4695-c453-5b7c-a6a3-df012b185a67","slug":"kafka","__params":{"slug":"kafka"}}},"staticQueryHashes":["3159585216","3233600414"]}